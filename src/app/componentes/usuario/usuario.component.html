<div class="col-xs-12">

  <h2>{{title}}</h2>

  <br>

  <div *ngIf="estado == 1" class="alert alert-success" role="alert">
    La informacion se ha guardado correctamente.
  </div>
  <div *ngIf="estado == 0" class="alert alert-danger" role="alert">
    Se ha producido un error, intente mas tarde.
  </div>
  <div *ngIf="estado == 2" class="alert alert-warning" role="alert">
    La identificacion ya existe.
  </div>

  <form *ngIf="!mostrarForm" class="col-xs-6">
    <div class="form-group">
      <label>Buscar Usuario</label>
      <ng2-completer [inputClass]="['form-control']" [datasource]="dataServiceUsuario" [minSearchLength]="5" [textSearching]="'Buscando...'"
        [placeholder]="'Buscar por identificación'" [textNoResults]="'Sin resultados'" (selected)="onUsuarioSelect($event)"
        [(ngModel)]="searchUsuario" name="cPredio" required [clearUnselected]=true></ng2-completer>
    </div>
  </form>

  <form *ngIf="mostrarForm" #form="ngForm" (ngSubmit)="registrar(form)" autocomplete="off">

    <div class="row">

      <div class="col-xs-6">

        <div [ngClass]="(!identificacion.valid && identificacion.touched) ? 'form-group has-error' : 'form-group'">
          <label class="control-label" for="identificacion">Identificación</label>
          <input [(ngModel)]="usuario.cedula" #identificacion="ngModel" name="identificacion" id="identificacion" type="text" class="form-control"
            placeholder="Ingrese la identificación" required>
          <span class="msg-error" *ngIf="!identificacion.valid && identificacion.touched">Campo obligatorio</span>
        </div>

        <div [ngClass]="(!nombre.valid && nombre.touched) ? 'form-group has-error' : 'form-group'">
          <label for="nombres">Nombres</label>
          <input [(ngModel)]="usuario.nombre" #nombre="ngModel" name="nombre" id="nombre" type="text" class="form-control" placeholder="Ingrese los nombres"
            required/>
          <span class="msg-error" *ngIf="!nombre.valid && nombre.touched">Campo obligatorio</span>
        </div>

        <div [ngClass]="(!apellido.valid && apellido.touched) ? 'form-group has-error' : 'form-group'">
          <label for="apellidos">Apellidos</label>
          <input [(ngModel)]="usuario.apellido" #apellido="ngModel" name="apellido" id="apellido" type="text" class="form-control"
            placeholder="Ingrese los apellidos" required/>
          <span class="msg-error" *ngIf="!apellido.valid && apellido.touched">Campo obligatorio</span>
        </div>

        <div [ngClass]="(!direccion.valid && direccion.touched) ? 'form-group has-error' : 'form-group'">
          <label for="direccion">Dirección</label>
          <input [(ngModel)]="usuario.direccion" #direccion="ngModel" name="direccion" id="direccion" type="text" class="form-control"
            placeholder="Ingrese la dirección" required/>
          <span class="msg-error" *ngIf="!direccion.valid && direccion.touched">Campo obligatorio</span>
        </div>

        <button type="submit" [disabled]="!form.form.valid" class="btn btn-primary">Guardar</button>
        <button *ngIf="edicion" (click)="onClickCancelar()" class="btn btn-danger" type="button">Cancelar</button>

      </div>

      <div class="col-xs-6">

        <div [ngClass]="(!ciudad.valid && ciudad.touched) ? 'form-group has-error' : 'form-group'">
          <label for="ciudad">Ciudad</label>
          <input [(ngModel)]="usuario.ciudad" #ciudad="ngModel" name="ciudad" id="ciudad" type="text" class="form-control" placeholder="Ingrese la ciudad"
            required/>
          <span class="msg-error" *ngIf="!ciudad.valid && ciudad.touched">Campo obligatorio</span>
        </div>

        <div class="form-group">
          <label for="telefono">Telefono</label>
          <input [(ngModel)]="usuario.telefono" #telefono="ngModel" name="telefono" id="telefono" type="text" class="form-control"
            placeholder="Ingrese el telefono (opcional)" />
        </div>

        <div class="form-group">
          <label for="celular">Celular</label>
          <input [(ngModel)]="usuario.celular" #celular="ngModel" name="celular" id="celular" type="text" class="form-control" placeholder="Ingrese el celular (opcional)"
          />
        </div>

        <div class="form-group">
          <label for="correo">Correo electrónico</label>
          <input [(ngModel)]="usuario.correo" #correo="ngModel" name="correo" id="correo" type="text" class="form-control" placeholder="Ingrese el correo electrónico (opcional)"
          />
        </div>

      </div>
    </div>

  </form>
</div>